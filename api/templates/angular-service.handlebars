import { Injectable } from '@angular/core';
import { {{importedItems}} } from '../models/{{importsPath}}';
import { APIs, ResponseWrapper } from '../models/_base.model';

@Injectable({
    providedIn: 'root'
})
export class APIService {

    constructor(private http: HttpClient) {}

    {{#each apis}}
    {{> (lookup . "method") }}

    {{/each}}
}

{{#*inline "get"}}
{{name}}(params?: {{name}}['params'], config?: HttpConfig): Observable<{{{responseType}}}> {
    params = new HttpParams().appendAll(params || {});
    return this.http.get({{baseUrl}} + '{{url}}', { params, ...config });
}
{{/inline}}


{{#*inline "post"}}
{{name}}(data: {{name}}['data'], params?: {{name}}['params'], config?: HttpConfig): Observable<{{{responseType}}}> {
    params = new HttpParams().appendAll(params || {});
    return this.http.post({{baseUrl}} + '{{url}}', data, { params, ...config });
}
{{/inline}}
